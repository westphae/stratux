<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>AHRS for Stratux</title>
    <link>https://westphae.github.io/stratux/index.xml</link>
    <description>Recent content on AHRS for Stratux</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>MIT license</copyright>
    <lastBuildDate>Sat, 21 Jan 2017 14:38:08 -0500</lastBuildDate>
    <atom:link href="https://westphae.github.io/stratux/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Collaboration</title>
      <link>https://westphae.github.io/stratux/collaboration/</link>
      <pubDate>Sat, 21 Jan 2017 14:38:08 -0500</pubDate>
      
      <guid>https://westphae.github.io/stratux/collaboration/</guid>
      <description>

&lt;p&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/contact-bg.jpg&#34; alt=&#34;splash&#34; /&gt;&lt;/p&gt;

&lt;h2 id=&#34;issues&#34;&gt;Issues&lt;/h2&gt;

&lt;p&gt;Submit any issues on my fork&amp;rsquo;s &lt;a href=&#34;https://github.com/westphae/stratux/issues&#34;&gt;issues&lt;/a&gt; area.
Every flight creates a file in /var/log/sensors_YYYYMMDD_HHMMSS.csv, which you can upload.
It might also be helpful to upload /var/log/stratux.log in certain situations.&lt;/p&gt;

&lt;h2 id=&#34;feedback&#34;&gt;Feedback&lt;/h2&gt;

&lt;p&gt;Please contact me on &lt;a href=&#34;https://stratuxadsb.slack.com/team/bonanzaeric&#34;&gt;Slack&lt;/a&gt;, either with a direct message
or in the &lt;a href=&#34;https://stratuxadsb.slack.com/messages/ahrs/&#34;&gt;ahrs&lt;/a&gt; channel.&lt;/p&gt;

&lt;p&gt;If you&amp;rsquo;re not on Slack, you can use one of the links at left.&lt;/p&gt;

&lt;h2 id=&#34;acknowledgments&#34;&gt;Acknowledgments&lt;/h2&gt;

&lt;p&gt;I would like to thank Steve Sokol of &lt;a href=&#34;http://openflightsolutions.com&#34;&gt;http://openflightsolutions.com&lt;/a&gt; for his input, feedback, motivation through his AHRS Challenge, and for providing a prototype AHRS board for testing.  His products are also top notch&amp;ndash;highly recommended!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>A Stratux AHRS image for beta testers</title>
      <link>https://westphae.github.io/stratux/howto/</link>
      <pubDate>Thu, 19 Jan 2017 14:41:29 -0500</pubDate>
      
      <guid>https://westphae.github.io/stratux/howto/</guid>
      <description>

&lt;p&gt;I am excited to finally offer a Stratux image for anyone who would like to help beta test my initial AHRS solution!&lt;/p&gt;

&lt;h2 id=&#34;requirements&#34;&gt;Requirements&lt;/h2&gt;

&lt;p&gt;To use this image, in addition to the normal Stratux requriements, you&amp;rsquo;ll need to connect an MPU-9250 sensor to your Stratux.
The OpenFlightSolutions AHRS board is a great choice.
You can also use a RY836AI (tested), a &lt;a href=&#34;https://www.sparkfun.com/products/13762&#34;&gt;SparkFun MPU9250 breakout board&lt;/a&gt; (not yet tested), &lt;a href=&#34;https://smile.amazon.com/gp/product/B01N0L05M2/&#34;&gt;XINY MPU9250 BMP280&lt;/a&gt; (not yet tested) or your own home brew.&lt;/p&gt;

&lt;p&gt;The code also has a driver for the BMP280, which also exists on the OpenFlightSolutions AHRS board, the RY836AI and the XINY.
If you have one of these boards or a separate dev board, the pressure altitude and rate of climb will be used in the algorithm.&lt;/p&gt;

&lt;div class=&#34;admonition note&#34;&gt;
&lt;p class=&#34;admonition-title&#34;&gt;RY835AI Not Currently Supported&lt;/p&gt;
&lt;p&gt;If there is sufficient demand, I will support the MPU-9150 also (which is the sensor chip on the RY835AI).
This would require writing a pure Go driver.
The MPU-9250 performs better anyway.
The same is true of the BMP-180 (RY835AI) vs the BMP-280 (RY836AI).&lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&#34;download&#34;&gt;Download&lt;/h2&gt;

&lt;p&gt;You can download the &lt;a href=&#34;https://github.com/westphae/stratux/releases/download/ahrs0.2/stratux-ahrs0.2-34396a36e5.img.zip&#34;&gt;image&lt;/a&gt; from the &lt;a href=&#34;https://github.com/westphae/stratux/releases&#34;&gt;Releases&lt;/a&gt; page of the GitHub project page.
Just burn it like any other Stratux image.&lt;/p&gt;

&lt;div class=&#34;admonition note&#34;&gt;
&lt;p class=&#34;admonition-title&#34;&gt;Differences from Stock Stratux Image&lt;/p&gt;
&lt;p&gt;This image is based on the stock Stratux image stratux-v1.2r1-9ee46170ff.img.zip downloaded from stratux.me.
I had to make a few changes:
1. /root/stratux points to &lt;a href=&#34;https://github.com/westphae/stratux&#34;&gt;https://github.com/westphae/stratux&lt;/a&gt; rather than &lt;a href=&#34;https://github.com/cyoung/stratux&#34;&gt;https://github.com/cyoung/stratux&lt;/a&gt;.
2. I re-enabled dhcpcd so that developers can connect to it via a wired connection for downloading data, updating, etc.
3. I added my ssh public key for root access.&lt;/p&gt;
&lt;/div&gt;

&lt;h2 id=&#34;sensor-pinout&#34;&gt;Sensor Pinout&lt;/h2&gt;

&lt;p&gt;Pinouts for the MPU-9250 are as follows:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;MPU-9250 Pin&lt;/th&gt;
&lt;th&gt;Raspberry Pi Pin&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;VDD&lt;/td&gt;
&lt;td&gt;Pin 02 (or 04)&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;GND&lt;/td&gt;
&lt;td&gt;Pin 06&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;FSYNC&lt;/td&gt;
&lt;td&gt;Pin 09&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;SDA1&lt;/td&gt;
&lt;td&gt;Pin 03&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;SCL1&lt;/td&gt;
&lt;td&gt;Pin 05&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The Raspberry Pi also has ground on pins 14, 20, 25, 30, and 39 that you can connect GND or FSYNC to.&lt;/p&gt;

&lt;p&gt;If you use the RY836AI, you can also connect its GPS:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;GPS Pin&lt;/th&gt;
&lt;th&gt;Raspberry Pi Pin&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;

&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;TXD&lt;/td&gt;
&lt;td&gt;Pin 10 (RXD0)&lt;/td&gt;
&lt;/tr&gt;

&lt;tr&gt;
&lt;td&gt;RXD&lt;/td&gt;
&lt;td&gt;Pin 08 (TXD0)&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;a href=&#34;https://westphae.github.io/stratux/img/raspi_pins.png&#34;&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/raspi_pins.png&#34; alt=&#34;Raspberry Pi Pins&#34; title=&#34;Raspberry Pi Pins&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Be sure to affix the sensor firmly to the Stratux box.
The sensor must not be able to move around in flight or the AHRS will give false indications.&lt;/p&gt;

&lt;h2 id=&#34;changes-to-stratux&#34;&gt;Changes to Stratux&lt;/h2&gt;

&lt;p&gt;Once you&amp;rsquo;ve connected the board and burned the image to your SDCard, you&amp;rsquo;re ready to go.&lt;/p&gt;

&lt;p&gt;There are just a few changes to cyoung/stratux.
First is a new Attitude Indicator in place of the old &amp;ldquo;paper airplane.&amp;rdquo;
Tilting the sensor should result in some motion of the AI, though possibly not in a way that makes sense &amp;ndash; because we haven&amp;rsquo;t calibrated it yet.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/AHRS_Screenshot.png&#34; alt=&#34;StratuxAI&#34; title=&#34;Stratux Horizon Indicator&#34; /&gt;&lt;/p&gt;

&lt;p&gt;This is done via a &amp;ldquo;Calibrate AHRS Sensors&amp;rdquo; button on the &amp;ldquo;Settings&amp;rdquo; page.&lt;/p&gt;

&lt;p&gt;I also added a &amp;ldquo;CPU Load&amp;rdquo; area to the &amp;ldquo;Status&amp;rdquo; page.&lt;/p&gt;

&lt;p&gt;Finally, there is a &amp;ldquo;Sensors&amp;rdquo; switch on the &amp;ldquo;Settings&amp;rdquo; page.
&lt;em&gt;If your Attitude Indicator doesn&amp;rsquo;t respond when you move the sensor, be sure that this switch is on!&lt;/em&gt;&lt;/p&gt;

&lt;h2 id=&#34;stratux-startup&#34;&gt;Stratux Startup&lt;/h2&gt;

&lt;p&gt;When this fork of Stratux is first started, it tries to connect to the sensors and, once successful, performs a separate &amp;ldquo;calibration.&amp;rdquo;
The purpose of this calibration is to determine a preliminary zero value for the gyro and accelerometer.&lt;/p&gt;

&lt;p&gt;It is very important when doing this calibration that the sensor remain fairly still.
It is usually OK for it to be sitting on the glareshield with the engine running, though at these early (beta release) stages it might be better to start the Stratux up and ensure it is operating before starting the engine.
It will not calibrate if the sensor is waved around or wiggling too much.&lt;/p&gt;

&lt;p&gt;You will know that the sensor is calibrated when the heading on the attitude indicator swerves to show 90 degrees.
Then you can pick up the sensor, wave it around and see how the attitude indicator responds.&lt;/p&gt;

&lt;h2 id=&#34;sensor-orientation&#34;&gt;Sensor Orientation&lt;/h2&gt;

&lt;p&gt;As noted earlier, it is crucial that the sensor remain in one position in your aircraft&amp;ndash;if it slides around or wiggles, it will lose orientation.
OpenFlightSolutions has a really nice base with a grippy bottom surface for their OpenFlightBox that works great for me.
The OpenFlightBox AHRS board also affixes very firmly to the Raspberry Pi, so there is no chance for wiggling.
With another sensor like a RY836AI, a XINY, etc. it is important to firmly affix the sensor to the case, Raspberry Pi, or something else so that it does not wiggle.&lt;/p&gt;

&lt;p&gt;In this initial release, the Stratux will need to be oriented roughly at &amp;ldquo;right angles&amp;rdquo; to the pitch, yaw and roll axes of the airplane, so give some thought to how it will be situated in your aircraft.
It can sit in any orientation as long as one of the sensor&amp;rsquo;s X, Y, or Z axes (positive or negative) points forward, one toward the left wing, and one up.
I put mine on my glareshield with the antennae at the rear&amp;ndash;see the picture.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/stratux_glareshield.jpg&#34; alt=&#34;Stratux Placement&#34; title=&#34;Stratux placement on the glareshield&#34; /&gt;&lt;/p&gt;

&lt;p&gt;It will need to be oriented to within say 5° of the airplane&amp;rsquo;s axes to provide good data to the algorithm.
Eventually I may write a more sophisticated self-calibration routine that will orient itself automatically from any which angle, but for now we need to tell it precisely which direction is which.&lt;/p&gt;

&lt;h2 id=&#34;sensor-calibration&#34;&gt;Sensor Calibration&lt;/h2&gt;

&lt;div class=&#34;admonition note&#34;&gt;
&lt;p class=&#34;admonition-title&#34;&gt;Orientation Dialog Boxes have Changed&lt;/p&gt;
&lt;p&gt;The screenshots below are from an earlier version of the software.
The button name changed from &amp;ldquo;Calibrate AHRS Sensors&amp;rdquo; to &amp;ldquo;Set AHRS Sensor Orientation&amp;rdquo; and the dialog boxes are smaller to fit on a small (phone) screen.
The procedure remains the same, however.&lt;/p&gt;
&lt;/div&gt;

&lt;p&gt;Now we will perform a &amp;ldquo;calibration.&amp;rdquo;
This is not a full sensor calibration, it is just a means to tell the AHRS algorithm the orientation of the Stratux box in the airplane, i.e. which sensor axis corresponds to which aircraft axis.
It needs to know which end of the sensor will point forward (along the roll axis), which end will point up (along the yaw axis), and which toward the left wing (along the pitch axis).
This only has to be done once, as long as you don&amp;rsquo;t change this gross orientation of the sensor to your airplane.
The setting will be stored with your other settings on your SDCard.
It goes without saying that this is best done on the ground, with the engine off&amp;hellip;&lt;/p&gt;

&lt;p&gt;The calibration routine uses gravity to tell the algorithm which way is which.
On the Settings page, if you click on &amp;ldquo;Set AHRS Sensor Orientation&amp;rdquo;, it will guide you through this process.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://westphae.github.io/stratux/img/screenshot_calibrate.png&#34;&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/screenshot_calibrate.png&#34; alt=&#34;Web UI Calibrate Screenshot&#34; title=&#34;Stratux Web UI AHRS Calibrate screenshot&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Once you click this button, you will first orient the sensor so that the end that will be pointing forward in flight is instead pointing straight up.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://westphae.github.io/stratux/img/screenshot_orientation_forward.png&#34;&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/screenshot_orientation_forward.png&#34; alt=&#34;Web UI Forward Calibration Screenshot&#34; title=&#34;Stratux Web UI AHRS forward calibration screenshot&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;ldquo;Straight&amp;rdquo; just means that it is pointing up more than the other two axes, say a pitch angle of 70° or more.
Then the axis which feels the most gravity will be considered &amp;ldquo;forward.&amp;rdquo;&lt;br /&gt;
Once you are holding the sensor in this attitude, &amp;ldquo;nose-up,&amp;rdquo; then click the &amp;ldquo;Set Forward Direction&amp;rdquo; button.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/stratux_orientation_1.jpg&#34; alt=&#34;Stratux Forward Orientation&#34; title=&#34;Stratux orientation for forward direction&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Now you just place the sensor in the orientation it will ultimately rest in the airplane.&lt;/p&gt;

&lt;p&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/stratux_orientation_2.jpg&#34; alt=&#34;Stratux Up Orientation&#34; title=&#34;Stratux orientation for up direction&#34; /&gt;&lt;/p&gt;

&lt;p&gt;Then click the &amp;ldquo;Set Up Direction&amp;rdquo; button and gravity will tell the algorithm which direction will be Up.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://westphae.github.io/stratux/img/screenshot_orientation_up.png&#34;&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/screenshot_orientation_up.png&#34; alt=&#34;Web UI Up Calibration Screenshot&#34; title=&#34;Stratux Web UI AHRS up calibration screenshot&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;From this, we can calculate which direction will be toward the left wing, so there is no need to tell the algorithm this.&lt;/p&gt;

&lt;p&gt;You&amp;rsquo;re now ready to fly!&lt;/p&gt;

&lt;h2 id=&#34;gps-only-attitude&#34;&gt;GPS-Only Attitude&lt;/h2&gt;

&lt;p&gt;There is already a &amp;ldquo;GPS-only&amp;rdquo; attitude system recently integrated into Stratux.
This was developed by @AvSquirrel.
It is considered a &amp;ldquo;pseudo-attitude&amp;rdquo; system because it does not use independent sensors to determine attitude&amp;ndash;it bases its attitude calculations only on GPS data.&lt;/p&gt;

&lt;p&gt;It is excellent code and works quite well.
However, because it doesn&amp;rsquo;t have sensors, it has several deficiencies.
Most notably, its attitude lags the aircraft&amp;rsquo;s actual attitude by a second or so; and it cannot correctly sense uncoordinated maneuvers.&lt;/p&gt;

&lt;p&gt;I retained this excellent code for users who do not have attitude sensors, which presumably will be the majority.
My fork will use the GPS-only attitude if there is no sensor present, or if the &amp;ldquo;Sensors&amp;rdquo; switch in the Hardware section of the Settings page is &amp;ldquo;off.&amp;rdquo;
Otherwise, it uses my AHRS calculations.&lt;/p&gt;

&lt;h2 id=&#34;disclaimer&#34;&gt;Disclaimer&lt;/h2&gt;

&lt;div class=&#34;admonition warning&#34;&gt;
&lt;p class=&#34;admonition-title&#34;&gt;This AHRS will not save your life.&lt;/p&gt;
&lt;p&gt;I was partially motivated to develop this software due to losing my vacuum pump-driven attitude indicator system (including standby pump within an hour each time!) no less than three times over the course of 2700 hours of flying.
The last time, at night over the Egyptian Saharan desert, I at least had a clear sky above (there was oftentimes not a single light in the desert below).
My autopilot was also driven by the attitude indicator, so I had to both keep upright and hand-fly through the pitch black for hours.&lt;/p&gt;

&lt;p&gt;Fortunately, this last time I also had a MidCon LifeSaver electrical backup.
Even surrounded by inky blackness above and below, with no horizon visible outside, between the stars above and the MidCon certified backup, I was able to continue without any loss of situational awareness.
However, the thought crossed my mind many times as I flew on through the dark for hours that the MidCon was my last and only backup.
If I had to do an instrument approach, I would be partial panel.
I would really have loved to have had at least one potential additional and fully independent backup system, if only to provide me some comfort and an independent check for my partial panel flying.&lt;/p&gt;

&lt;p&gt;It goes without saying that a self-built attitude indicator system that can potentially be thrown willy nilly up on the glareshield, in a severely uncontrolled environment, and running software that has never been certified by any independent agent should not be relied upon in any but the most dire of circumstances.
Even then, you would be very wise to fly partial panel on certified instruments and use any such system as this only as a cross-reference.&lt;/p&gt;

&lt;p&gt;If this software ever serves just to provide some comfort to a pilot in an event such as I experienced, it will have served its purpose.  Its purpose is not to save your life.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>My Plan for AHRS Development</title>
      <link>https://westphae.github.io/stratux/plan/</link>
      <pubDate>Wed, 18 Jan 2017 16:40:25 -0500</pubDate>
      
      <guid>https://westphae.github.io/stratux/plan/</guid>
      <description>&lt;p&gt;I&amp;rsquo;ve been working on AHRS for about 9 months now.
My original approach was to use an Extended Kalman Filter.
This proved to be a bit more difficult than I&amp;rsquo;d expected!&lt;/p&gt;

&lt;p&gt;In order to get something working and build a framework to integrate it into the Stratux code, I instead took an approach I call the &amp;ldquo;SimpleAHRS&amp;rdquo; algorithm.
Like @AvSquirrel&amp;rsquo;s &amp;ldquo;GPS-only&amp;rdquo; approach, its foundation is an attitude estimate based on GPS.
Then the sensors are used to &amp;ldquo;tweak&amp;rdquo; the calculated attitude.
This allows it to respond to changes in attitude in realtime and to account somewhat for uncoordinated maneuvers.
However, it does still have a few deficiencies.
Mainly, it cannot get pitch quite right.
Also, uncoordinated maneuvers that persist for more than a few seconds will begin to display incorrectly.&lt;/p&gt;

&lt;p&gt;A true AHRS system should be based on a Kalman filter (or derivative) fusion of sensors:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Gyros&lt;/li&gt;
&lt;li&gt;Accelerations&lt;/li&gt;
&lt;li&gt;Magnetometer&lt;/li&gt;
&lt;li&gt;GPS&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Even better is ADAHARS: Air Data And Heading Reference System.  This would also incorporate:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Airspeed&lt;/li&gt;
&lt;li&gt;Barometer&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The current &amp;ldquo;SimpleAHRS&amp;rdquo; approach uses GPS, gyro and barometer.
The next iteration will use GPS, gyro, accelerometer, barometer, and possibly magnetometer, in an Extended Kalman Filter.&lt;/p&gt;

&lt;p&gt;Mathematical details of the algorithms, simulations, etc. are or will be available in the documentation for &lt;a href=&#34;https://github.com/westphae/goflying&#34;&gt;https://github.com/westphae/goflying&lt;/a&gt; at &lt;a href=&#34;https://westphae.github.io/goflying&#34;&gt;https://westphae.github.io/goflying&lt;/a&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Release Notes</title>
      <link>https://westphae.github.io/stratux/release_notes/</link>
      <pubDate>Sat, 18 Feb 2017 21:19:59 -0500</pubDate>
      
      <guid>https://westphae.github.io/stratux/release_notes/</guid>
      <description>

&lt;h2 id=&#34;issues&#34;&gt;Issues&lt;/h2&gt;

&lt;p&gt;For issues, see the GitHub &lt;a href=&#34;https://github.com/westphae/stratux/issues&#34;&gt;issues&lt;/a&gt; page.&lt;/p&gt;

&lt;h2 id=&#34;ahrs0-3&#34;&gt;ahrs0.3&lt;/h2&gt;

&lt;h3 id=&#34;mar-6-2017&#34;&gt;Mar 6, 2017&lt;/h3&gt;

&lt;p&gt;The third beta release, &lt;a href=&#34;https://github.com/westphae/stratux/releases/download/ahrs0.3/stratux-ahrs0.3-e78146ab99.img.zip&#34;&gt;ahrs0.3&lt;/a&gt;, is available on the &lt;a href=&#34;https://github.com/westphae/stratux&#34;&gt;https://github.com/westphae/stratux&lt;/a&gt; releases page.
This release uses the &amp;ldquo;SimpleAHRS&amp;rdquo; algorithm.&lt;/p&gt;

&lt;p&gt;Changes:
1. Fixed a tendency to display an overbank, especially at higher bank angles.  This was caused by smoothing the turn rate rather than smoothing the roll.  Turn rate noise is highly non-normal, so the fat tails led to a skewed ewma.
2. Various UI changes:
  * Separate switches to turn on/off the IMU (attitude) and BMP (altitude) sensors.  This is mostly useful for pressurized aircraft.
  * A switch to turn off csv logging of the AHRS data.
  * The orientation dialog was unusable on small (phone) screens since it overflowed, so most of the text was moved to the help page.
3. Better initialization routines, so that glareshield vibration or turbulence won&amp;rsquo;t prevent initialization.
4. Refactoring of various interfaces within the Go code.&lt;/p&gt;

&lt;h2 id=&#34;ahrs0-2&#34;&gt;ahrs0.2&lt;/h2&gt;

&lt;h3 id=&#34;feb-22-2017&#34;&gt;Feb 22, 2017&lt;/h3&gt;

&lt;p&gt;The second beta release, &lt;a href=&#34;https://github.com/westphae/stratux/releases/download/ahrs0.2/stratux-ahrs0.2-34396a36e5.img.zip&#34;&gt;ahrs0.2&lt;/a&gt;, is available on the &lt;a href=&#34;https://github.com/westphae/stratux&#34;&gt;https://github.com/westphae/stratux&lt;/a&gt; releases page.
This release uses the &amp;ldquo;SimpleAHRS&amp;rdquo; algorithm.&lt;/p&gt;

&lt;p&gt;Changes:
1. Fixed an issue where if the Sensors switch were on and no BMP280 were attached, gen_gdl90 would panic.
2. Fixed a panic in network.go due to concurrent reading/writing of a map.&lt;/p&gt;

&lt;h2 id=&#34;ahrs0-1&#34;&gt;ahrs0.1&lt;/h2&gt;

&lt;h3 id=&#34;feb-17-2017&#34;&gt;Feb 17, 2017&lt;/h3&gt;

&lt;p&gt;The initial beta release, &lt;a href=&#34;https://github.com/westphae/stratux/releases/download/ahrs0.1/stratux-ahrs0.1-2ba3f136bb.img.zip&#34;&gt;ahrs0.1&lt;/a&gt;, is available on the &lt;a href=&#34;https://github.com/westphae/stratux&#34;&gt;https://github.com/westphae/stratux&lt;/a&gt; releases page.
This release uses the &amp;ldquo;SimpleAHRS&amp;rdquo; algorithm.
In essence, it calculates the turn rate based on GPS, then applies corrections using the MPU-9250 gyro sensors.
This allows it to respond to attitude changes much more quickly than GPS alone can, and also to indicate uncoordinated maneuvers.
The algorithm doesn&amp;rsquo;t use a Kalman filter.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>AHRS for Stratux</title>
      <link>https://westphae.github.io/stratux/</link>
      <pubDate>Wed, 18 Jan 2017 22:36:35 +0000</pubDate>
      
      <guid>https://westphae.github.io/stratux/</guid>
      <description>&lt;p&gt;&lt;img src=&#34;https://westphae.github.io/stratux/img/intro-bg.jpg&#34; alt=&#34;splash&#34; /&gt;&lt;/p&gt;

&lt;p&gt;This project is a &lt;a href=&#34;https://github.com/westphae/stratux&#34;&gt;fork&lt;/a&gt; of the &lt;a href=&#34;https://github.com/cyoung/stratux&#34;&gt;Stratux&lt;/a&gt; project.
It is mainly intended to provide AHRS (Attitude Heading and Reference System) features.&lt;/p&gt;

&lt;p&gt;I created this site to help beta testers to download, install, and use this fork, and to provide me feedback and/or collaborate on its further development.&lt;/p&gt;

&lt;p&gt;AHRS support requires writing drivers for sensor hardware, Kalman filter and other approaches for determining attitude from sensor input, and software simulators for testing these algorithms.
The main code for AHRS is in a separate GitHub repository, &lt;a href=&#34;https://github.com/westphae/goflying&#34;&gt;https://github.com/westphae/goflying&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This fork incorporates minimal changes into the stratux code to integrate the AHRS code from the goflying library.
Hopefully it will eventually be merged into the main stratux project.&lt;/p&gt;

&lt;p&gt;You can watch a video of my flight testing the AHRS in my Bonanza V35B.
My phone is on the left showing the Stratux Webpage UI AHRS indicator.
Dual Aspens are on the right.
Currently the pitch indications are not very accurate.
But the fundamental issues of AHRS are solved and the indications are close enough to reality to be useful.
&lt;em&gt;The project is definitey still in BETA!&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://youtu.be/hbV1bGDzHmw&#34;&gt;&lt;img src=&#34;https://img.youtube.com/vi/hbV1bGDzHmw/0.jpg&#34; alt=&#34;AHRS on Youtube&#34; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;div class=&#34;admonition warning&#34;&gt;
&lt;p class=&#34;admonition-title&#34;&gt;This AHRS will not save your life.&lt;/p&gt;
&lt;p&gt;I was partially motivated to develop this software due to losing my vacuum pump-driven attitude indicator system (including standby pump within an hour each time!) no less than three times over the course of 2700 hours of flying.
The last time, at night over the Egyptian Saharan desert, I at least had a clear sky above (there was oftentimes not a single light in the desert below).
My autopilot was also driven by the attitude indicator, so I had to both keep upright and hand-fly through the pitch black for hours.&lt;/p&gt;

&lt;p&gt;Fortunately, this last time I also had a MidCon LifeSaver electrical backup.
Even surrounded by inky blackness above and below, with no horizon visible outside, between the stars above and the MidCon certified backup, I was able to continue without any loss of situational awareness.
However, the thought crossed my mind many times as I flew on through the dark for hours that the MidCon was my last and only backup.
If I had to do an instrument approach, I would be partial panel.
I would really have loved to have had at least one potential additional and fully independent backup system, if only to provide me some comfort and an independent check for my partial panel flying.&lt;/p&gt;

&lt;p&gt;It goes without saying that a self-built attitude indicator system that can potentially be thrown willy nilly up on the glareshield, in a severely uncontrolled environment, and running software that has never been certified by any independent agent should not be relied upon in any but the most dire of circumstances.
Even then, you would be very wise to fly partial panel on certified instruments and use any such system as this only as a cross-reference.&lt;/p&gt;

&lt;p&gt;If this software ever serves just to provide some comfort to a pilot in an event such as I experienced, it will have served its purpose.  Its purpose is not to save your life.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
  </channel>
</rss>