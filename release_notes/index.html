<!DOCTYPE html>
  
  
  
  
   <html class="no-js"> 

  <head lang="en-us">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=10" />
    <title>Release Notes - AHRS for Stratux</title>
    <meta name="generator" content="Hugo 0.19-DEV" />

    
    <meta name="description" content="stratux with AHRS">
    
    <link rel="canonical" href="https://westphae.github.io/stratux/release_notes/">
    
    <meta name="author" content="Eric Westphal">
    

    <meta property="og:url" content="https://westphae.github.io/stratux/release_notes/">
    <meta property="og:title" content="AHRS for Stratux">
    <meta property="og:image" content="https://westphae.github.io/img/AHRS_Screenshot.png">
    <meta name="apple-mobile-web-app-title" content="AHRS for Stratux">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <link rel="shortcut icon" type="image/x-icon" href="https://westphae.github.io/stratux/img/favicon.png">
    <link rel="icon" type="image/x-icon" href="https://westphae.github.io/stratux/img/favicon.png">

    <style>
      @font-face {
        font-family: 'Icon';
        src: url('https://westphae.github.io/stratux/fonts/icon.eot');
        src: url('https://westphae.github.io/stratux/fonts/icon.eot')
               format('embedded-opentype'),
             url('https://westphae.github.io/stratux/fonts/icon.woff')
               format('woff'),
             url('https://westphae.github.io/stratux/fonts/icon.ttf')
               format('truetype'),
             url('https://westphae.github.io/stratux/fonts/icon.svg')
               format('svg');
        font-weight: normal;
        font-style: normal;
      }
    </style>

    <link rel="stylesheet" href="https://westphae.github.io/stratux/stylesheets/application.css">
    <link rel="stylesheet" href="https://westphae.github.io/stratux/stylesheets/temporary.css">
    <link rel="stylesheet" href="https://westphae.github.io/stratux/stylesheets/palettes.css">
    <link rel="stylesheet" href="https://westphae.github.io/stratux/stylesheets/highlight/highlight.css">

    
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:400,700|Roboto&#43;Mono">
    <style>
      body, input {
        font-family: 'Roboto', Helvetica, Arial, sans-serif;
      }
      pre, code {
        font-family: 'Roboto Mono', 'Courier New', 'Courier', monospace;
      }
    </style>

    
    <link rel="stylesheet" href="https://westphae.github.io/stratux/css/local.css">
    
    <script src="https://westphae.github.io/stratux/javascripts/modernizr.js"></script>

    

  </head>
  <body class="palette-primary-red palette-accent-teal">



	
	


<div class="backdrop">
	<div class="backdrop-paper"></div>
</div>

<input class="toggle" type="checkbox" id="toggle-drawer">
<input class="toggle" type="checkbox" id="toggle-search">
<label class="toggle-button overlay" for="toggle-drawer"></label>

<header class="header">
	<nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        Release Notes
      </div>
    </div>

    
    <div class="button button-twitter" role="button" aria-label="Twitter">
       <a href="https://twitter.com/EWestphal" title="@EWestphal on Twitter" target="_blank" class="toggle-button icon icon-twitter"></a>
    </div>
    

    
    <div class="button button-github" role="button" aria-label="GitHub">
      <a href="https://github.com/westphae" title="@westphae on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
    </div>
    
    
        
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
</header>

<main class="main">
	<div class="drawer">
		<nav aria-label="Navigation">
  <a href="https://github.com/westphae/stratux" class="project">
    <div class="banner">
      
        <div class="logo">
          <img src="https://westphae.github.io/stratux/img/AHRS_Screenshot.png">
        </div>
      
      <div class="name">
        <strong>AHRS for Stratux <span class="version">0.3</span></strong>
        
          <br>
          westphae/stratux
        
      </div>
    </div>
  </a>

  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            <a href="https://github.com/westphae/stratux/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/westphae/stratux/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      

      <div class="toc">
        
        <ul>
          




<li>
  
    



<a  title="AHRS for Stratux" href="https://westphae.github.io/stratux/">
	
	AHRS for Stratux
</a>



  
</li>



<li>
  
    



<a  title="How-To" href="https://westphae.github.io/stratux/howto/">
	
	How-To
</a>



  
</li>



<li>
  
    



<a class="current" title="Release Notes" href="https://westphae.github.io/stratux/release_notes/">
	
	Release Notes
</a>


<ul id="scrollspy">
</ul>


  
</li>



<li>
  
    



<a  title="Collaboration" href="https://westphae.github.io/stratux/collaboration/">
	
	Collaboration
</a>



  
</li>



<li>
  
    



<a  title="Plan" href="https://westphae.github.io/stratux/plan/">
	
	Plan
</a>



  
</li>


        </ul>
        

        
        <hr>
        <span class="section">The author</span>
        
        <ul>
          
          <li>
            <a href="https://twitter.com/EWestphal" target="_blank" title="@EWestphal on Twitter">
              @EWestphal on Twitter
            </a>
          </li>
          

          
          <li>
            <a href="https://github.com/westphae" target="_blank" title="@westphae on GitHub">
              @westphae on GitHub
            </a>
          </li>
          

          
          <li>
            <a href="mailto:eric@androidtestpilot.com" title="Email of eric@androidtestpilot.com">
              Contact via email
            </a>
          </li>
          
        </ul>
        
      </div>
    </div>
  </div>
</nav>

	</div>

	<article class="article">
		<div class="wrapper">
			<h1>Release Notes </h1>

			

<h2 id="issues">Issues</h2>

<p>For issues, see the GitHub <a href="https://github.com/westphae/stratux/issues">issues</a> page.</p>

<div class="admonition note">
<p class="admonition-title">FIRST THING TO DO IF YOU HAVE AN ISSUE WITH AN UPGRADE</p>
<p>As the AHRS software is in beta, the web UI undergoes a lot of changes with every release.
If something seems wrong when you first connect after upgrading, <strong>the first thing to do is a hard refresh of the webpage.</strong>
There is a button on the Developer page to do this if you don&rsquo;t know how to do it in your browser.</p>
</div>

<h2 id="ahrs0-4">ahrs0.4</h2>

<h3 id="mar-13-2017">Mar 13, 2017</h3>

<p>The fourth beta release, <a href="https://github.com/westphae/stratux/releases/download/ahrs0.4/stratux-ahrs0.4-adfa54813a.img.zip">ahrs0.4</a>, is available on the <a href="https://github.com/westphae/stratux">https://github.com/westphae/stratux</a> releases page.
An <a href="https://github.com/westphae/stratux/releases/download/ahrs0.4/update-stratux-ahrs0.4-ef8064c09f.sh">update.sh</a> file is also available.
This release uses the &ldquo;SimpleAHRS&rdquo; algorithm.</p>

<p>Changes:</p>

<ol>
<li>Sensor orientation now completes when sensors are mounted in any orientation.
Previously when sensors were mounted &ldquo;upside down&rdquo; relative to my prototype board the orientation was rejected.</li>
<li>Only one cage process at a time is allowed.
Previously if a user pressed &ldquo;Cage&rdquo; a second time while the algorithm was still calibrating from the first press,
a second calibration would take place immediately, making it seem like it would never complete.</li>
<li>AHRS status lights were added to show whether the AHRS algorithm is using GPS, Attitude sensors (MPU9250), and/or
Altitude sensors (BMP280), and whether it is currently Calibrating and/or Logging (which can eat up disk space quickly).
It is especially important for the user to be able to see the calibration process occurring, so that it is apparent why the AI isn&rsquo;t responding.</li>
<li>A G Meter is shown on the GPS/AHRS page.</li>
<li>Magnetic Heading, Turn Rate, Slip/Skid Angle, and G Load are shown in text on the GPS/AHRS page.
Magnetic Heading will not be useful until the magnetometer is calibrated.
I may add an auto-calibration routine to a future release so that it will self-calibrate over the course of several flights, and/or add a manual calibration routine.</li>
<li>The slip/skid rectangle on the attitude indicator works now.
For now, it will only indicate correctly if the sensor is level in coordinated flight.
In the future, auto-calibration will do this for you automatically.</li>
<li>A few labels were changed in the UI to make meanings clearer to the casual user.</li>
<li>Deeper changes were made to the MPU9250 driver to improve its efficiency.
One of these changes involved removing a rudimentary accelerometer calibration.
As a result, <strong>when on the desktop, the AHRS will not quite indicate level&ndash;it will indicate the actual orientation of the sensor.</strong>
Even fairly rigidly mounted boards may indicate a degree or two of pitch or bank when sitting on a level desk.
For now, you can regard this as an assist in manually leveling your stratux on your glareshield.
An upcoming release will include a proper calibration, which is necessary to provide better pitch estimation.</li>
</ol>

<h2 id="ahrs0-3">ahrs0.3</h2>

<h3 id="mar-6-2017">Mar 6, 2017</h3>

<p>The third beta release, <a href="https://github.com/westphae/stratux/releases/download/ahrs0.3/stratux-ahrs0.3-e78146ab99.img.zip">ahrs0.3</a>, is available on the <a href="https://github.com/westphae/stratux">https://github.com/westphae/stratux</a> releases page.
This release uses the &ldquo;SimpleAHRS&rdquo; algorithm.</p>

<p>Changes:</p>

<ol>
<li>Fixed a tendency to display an overbank, especially at higher bank angles.  This was caused by smoothing the turn rate rather than smoothing the roll.  Turn rate noise is highly non-normal, so the fat tails led to a skewed ewma.</li>
<li>Various UI changes:

<ul>
<li>Separate switches to turn on/off the IMU (attitude) and BMP (altitude) sensors.  This is mostly useful for pressurized aircraft.</li>
<li>A switch to turn off csv logging of the AHRS data.</li>
<li>The orientation dialog was unusable on small (phone) screens since it overflowed, so most of the text was moved to the help page.</li>
</ul></li>
<li>Better initialization routines, so that glareshield vibration or turbulence won&rsquo;t prevent initialization.</li>
<li>Refactoring of various interfaces within the Go code.</li>
</ol>

<h2 id="ahrs0-2">ahrs0.2</h2>

<h3 id="feb-22-2017">Feb 22, 2017</h3>

<p>The second beta release, <a href="https://github.com/westphae/stratux/releases/download/ahrs0.2/stratux-ahrs0.2-34396a36e5.img.zip">ahrs0.2</a>, is available on the <a href="https://github.com/westphae/stratux">https://github.com/westphae/stratux</a> releases page.
This release uses the &ldquo;SimpleAHRS&rdquo; algorithm.</p>

<p>Changes:</p>

<ol>
<li>Fixed an issue where if the Sensors switch were on and no BMP280 were attached, gen_gdl90 would panic.</li>
<li>Fixed a panic in network.go due to concurrent reading/writing of a map.</li>
</ol>

<h2 id="ahrs0-1">ahrs0.1</h2>

<h3 id="feb-17-2017">Feb 17, 2017</h3>

<p>The initial beta release, <a href="https://github.com/westphae/stratux/releases/download/ahrs0.1/stratux-ahrs0.1-2ba3f136bb.img.zip">ahrs0.1</a>, is available on the <a href="https://github.com/westphae/stratux">https://github.com/westphae/stratux</a> releases page.
This release uses the &ldquo;SimpleAHRS&rdquo; algorithm.
In essence, it calculates the turn rate based on GPS, then applies corrections using the MPU-9250 gyro sensors.
This allows it to respond to attitude changes much more quickly than GPS alone can, and also to indicate uncoordinated maneuvers.
The algorithm doesn&rsquo;t use a Kalman filter.</p>


			<aside class="copyright" role="note">
				
				&copy; 2017 MIT license &ndash;
				
				Documentation built with
				<a href="https://www.gohugo.io" target="_blank">Hugo</a>
				using the
				<a href="http://github.com/digitalcraftsman/hugo-material-docs" target="_blank">Material</a> theme.
			</aside>

			<footer class="footer">
				

<nav class="pagination" aria-label="Footer">
  <div class="previous">
  
      <a href="https://westphae.github.io/stratux/plan/" title="My Plan for AHRS Development">
        <span class="direction">
          Previous
        </span>
        <div class="page">
          <div class="button button-previous" role="button" aria-label="Previous">
            <i class="icon icon-back"></i>
          </div>
          <div class="stretch">
            <div class="title">
              My Plan for AHRS Development
            </div>
          </div>
        </div>
      </a>
  
  </div>

  <div class="next">
  
      <a href="https://westphae.github.io/stratux/" title="AHRS for Stratux">
        <span class="direction">
          Next
        </span>
        <div class="page">
          <div class="stretch">
            <div class="title">
              AHRS for Stratux
            </div>
          </div>
          <div class="button button-next" role="button" aria-label="Next">
            <i class="icon icon-forward"></i>
          </div>
        </div>
      </a>
  
  </div>
</nav>





			</footer>
		</div>
	</article>

	<div class="results" role="status" aria-live="polite">
		<div class="scrollable">
			<div class="wrapper">
				<div class="meta"></div>
				<div class="list"></div>
			</div>
		</div>
	</div>
</main>

    <script>
    
      var base_url = 'https:\/\/westphae.github.io\/stratux';
      var repo_id  = 'westphae\/stratux';
    
    </script>

    <script src="https://westphae.github.io/stratux/javascripts/application.js"></script>
    

    <script>
      /* Add headers to scrollspy */
      var headers   = document.getElementsByTagName("h2");
      var scrollspy = document.getElementById('scrollspy');

      if(scrollspy) {
        if(headers.length > 0) {
          for(var i = 0; i < headers.length; i++) {
            var li = document.createElement("li");
            li.setAttribute("class", "anchor");

            var a  = document.createElement("a");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", headers[i].innerHTML);
            a.innerHTML = headers[i].innerHTML;

            li.appendChild(a)
            scrollspy.appendChild(li);
          }
        } else {
          scrollspy.parentElement.removeChild(scrollspy)
        }


        /* Add permanent link next to the headers */
        var headers = document.querySelectorAll("h1, h2, h3, h4, h5, h6");

        for(var i = 0; i < headers.length; i++) {
            var a = document.createElement("a");
            a.setAttribute("class", "headerlink");
            a.setAttribute("href", "#" + headers[i].id);
            a.setAttribute("title", "Permanent link")
            a.innerHTML = "#";
            headers[i].appendChild(a);
        }
      }
    </script>

    

    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
  </body>
</html>

